{"version":3,"sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/build-umd/transformation-matrix.min.js","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./src/index.js"],"names":["MODE_IDLE","MODE_PANNING","MODE_ZOOMING","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","POSITION_NONE","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","ACTION_ZOOM","ACTION_PAN","ALIGN_CENTER","ALIGN_LEFT","ALIGN_RIGHT","ALIGN_TOP","ALIGN_BOTTOM","getDefaultValue","viewerWidth","viewerHeight","SVGWidth","SVGHeight","scaleFactorMin","scaleFactorMax","set","identity","version","mode","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","value","change","action","Object","assign","freeze","isValueValid","hasOwnProperty","getSVGPoint","viewerX","viewerY","matrix","fromObject","inverseMatrix","inverse","applyToPoint","x","y","decompose","scaleFactor","a","translationX","e","translationY","f","setFocus","setViewerSize","setSVGSize","setZoomLevels","setPointOnViewerCenter","SVGPointX","SVGPointY","zoomLevel","transform","translate","scale","reset","resetMode","ViewerEvent","originalEvent","SVGViewer","preventDefault","stopPropagation","_cacheDecomposedValue","ViewerMouseEvent","_cachePoint","event","rect","getBoundingClientRect","clientX","Math","round","left","clientY","top","point","ViewerTouchEvent","_cachePoints","touchesToPoints","touches","_cacheChangedPoints","changedTouches","points","i","length","touch","push","identifier","eventType","type","Error","pan","SVGDeltaX","SVGDeltaY","panLimit","undefined","applyToPoints","x1","y1","x2","y2","moveX","moveY","startPanning","updatePanning","start","end","deltaX","deltaY","nextValue","stopPanning","autoPanIfNeeded","d","calculateBox","width","height","lessThanScaleFactorMin","moreThanScaleFactorMax","isZoomLevelGoingOutOfBounds","limitZoomLevel","scaleLevel","max","min","zoom","fitSelection","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","scaleX","scaleY","fitToViewer","SVGAlignX","SVGAlignY","scaleMatrix","translationMatrix","remainderY","remainderX","zoomOnViewerCenter","SVGPoint","startZooming","updateZooming","stopZooming","props","abs","box","mapRange","low1","high1","low2","high2","onMouseDown","ViewerDOM","tool","coords","onMouseMove","forceExit","buttons","preventPanOutside","onMouseUp","onDoubleClick","disableDoubleClickZoomWithToolAuto","modifierKeysReducer","current","modifierKey","getModifierState","modifierKeyActive","modifierKeys","reduce","onWheel","detectWheel","delta","scaleFactorOnWheel","onMouseEnterOrLeave","onInterval","indexOf","detectAutoPan","hasPinchPointDistance","onMultiTouch","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","cancelable","isMultiTouch","detectPinchGesture","shouldResetPinchPointDistance","getTouchPosition","getNextValue","nextValueFn","touchPosition","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","openMiniature","closeMiniature","needPrefix","cursor","userAgent","navigator","toLowerCase","isFirefox","isWebkit","getDisplayName","WrappedComponent","displayName","name","uid","nextUID","RandomUID","state","React","Component","prefixID","BorderGradient","direction","_uid","gradientID","maskID","stroke","fill","mask","propTypes","PropTypes","oneOf","isRequired","number","Selection","pointerEvents","IconCursor","IconPan","IconZoomIn","IconZoomOut","IconFit","ToolbarButton","hover","setState","style","display","margin","toolbarPosition","color","active","transition","background","padding","border","outline","onClick","title","children","string","func","bool","Toolbar","onChangeValue","onChangeTool","position","handleChangeTool","handleFit","isHorizontal","right","bottom","backgroundColor","borderRadius","flexDirection","object","defaultProps","isTouchDevice","window","maxTouchPoints","IconArrow","open","MiniatureToggleButton","MiniatureMask","zoomToFit","opacity","Miniature","SVGBackground","miniatureWidth","miniatureHeight","ratio","overflow","centerTranslation","ReactSVGPanZoom","context","autoPanLoop","bind","nextProps","getValue","needUpdate","setValue","getTool","touchAction","onZoom","onPan","target","eventsHandler","click","dblclick","mousemove","mouseup","mousedown","touchstart","touchmove","touchend","touchcancel","onEventHandler","eventFactory","autoPanIsRunning","requestAnimationFrame","CustomToolbar","customToolbar","CustomMiniature","customMiniature","panningWithToolAuto","cursorPolyfill","blockChildEvents","className","getSvgStyle","handleViewerEvent","detectTouch","toSVG","SVGStyle","__html","svgContain","changeTool","toolbarProps","miniaturePosition","miniatureBackground","shape","b","c","array","oneOfType","element","propName","componentName","prop","types","Children","count","join","disableZoomWithToolAuto","Viewer","msg","console","error"],"mappings":"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","file":"react-svg-pan-zoom.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"prop-types\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"prop-types\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"prop-types\"), require(\"react\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"PropTypes\"], root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","!function(r,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.TransformationMatrix=n():r.TransformationMatrix=n()}(window,function(){return function(r){var n={};function t(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:e})},t.r=function(r){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(r,\"__esModule\",{value:!0})},t.t=function(r,n){if(1&n&&(r=t(r)),8&n)return r;if(4&n&&\"object\"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:r}),2&n&&\"string\"!=typeof r)for(var o in r)t.d(e,o,function(n){return r[n]}.bind(null,o));return e},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,\"a\",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p=\"\",t(t.s=0)}([function(r,n,t){\"use strict\";function e(r,n){return Array.isArray(n)?[r.a*n[0]+r.c*n[1]+r.e,r.b*n[0]+r.d*n[1]+r.f]:{x:r.a*n.x+r.c*n.y+r.e,y:r.b*n.x+r.d*n.y+r.f}}function o(r,n){return n.map(function(n){return e(r,n)})}function u(r){return{a:parseFloat(r.a),b:parseFloat(r.b),c:parseFloat(r.c),d:parseFloat(r.d),e:parseFloat(r.e),f:parseFloat(r.f)}}t.r(n);var a=/^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i;function i(r){var n=r.match(a);if(null===n||n.length<7)throw new Error(\"'\"+r+\"' is not a matrix\");return{a:parseFloat(n[1]),b:parseFloat(n[2]),c:parseFloat(n[3]),d:parseFloat(n[4]),e:parseFloat(n[5]),f:parseFloat(n[6])}}function f(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function c(r){var n=r.a,t=r.b,e=r.c,o=r.d,u=r.e,a=r.f,i=n*o-t*e;return{a:o/i,b:t/-i,c:e/-i,d:n/i,e:(o*u-e*a)/-i,f:(t*u-n*a)/i}}var d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r},s=function(r){return\"number\"==typeof r&&!isNaN(r)&&isFinite(r)},l=function(r){return null!=r&&\"object\"===(void 0===r?\"undefined\":d(r))};function p(r){return l(r)&&r.hasOwnProperty(\"a\")&&s(r.a)&&r.hasOwnProperty(\"b\")&&s(r.b)&&r.hasOwnProperty(\"c\")&&s(r.c)&&r.hasOwnProperty(\"d\")&&s(r.d)&&r.hasOwnProperty(\"e\")&&s(r.e)&&r.hasOwnProperty(\"f\")&&s(r.f)}function y(r){return void 0===r}function b(r){return{a:1,c:0,e:r,b:0,d:1,f:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}function v(){for(var r=arguments.length,n=Array(r),t=0;t<r;t++)n[t]=arguments[t];var e=function(r,n){return{a:r.a*n.a+r.c*n.b,c:r.a*n.c+r.c*n.d,e:r.a*n.e+r.c*n.f+r.e,b:r.b*n.a+r.d*n.b,d:r.b*n.c+r.d*n.d,f:r.b*n.e+r.d*n.f+r.f}};switch((n=Array.isArray(n[0])?n[0]:n).length){case 0:throw new Error(\"no matrices provided\");case 1:return n[0];case 2:return e(n[0],n[1]);default:var o=function(r){return Array.isArray(r)?r:Array.from(r)}(n),u=o[0],a=o[1],i=o.slice(2),f=e(u,a);return v.apply(void 0,[f].concat(function(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}return Array.from(r)}(i)))}}function m(){return v.apply(void 0,arguments)}var h=Math.cos,x=Math.sin,g=Math.PI;function w(r,n,t){var e=h(r),o=x(r),u={a:e,c:-o,e:0,b:o,d:e,f:0};return y(n)||y(t)?u:v([b(n,t),u,b(-n,-t)])}function P(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return w(r*g/180,n,t)}function S(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return y(n)&&(n=r),{a:r,c:0,e:0,b:0,d:n,f:0}}function O(r,n){return{a:1,c:r,e:0,b:n,d:1,f:0}}var A=Math.tan;function F(r,n){return{a:1,c:A(r),e:0,b:A(n),d:1,f:0}}function M(r,n){return F(r*Math.PI/180,n*Math.PI/180)}function j(r){return T(r)}function _(r){return T(r)}function T(r){return\"matrix(\"+r.a+\",\"+r.b+\",\"+r.c+\",\"+r.d+\",\"+r.e+\",\"+r.f+\")\"}t.d(n,\"applyToPoint\",function(){return e}),t.d(n,\"applyToPoints\",function(){return o}),t.d(n,\"fromObject\",function(){return u}),t.d(n,\"fromString\",function(){return i}),t.d(n,\"identity\",function(){return f}),t.d(n,\"inverse\",function(){return c}),t.d(n,\"isAffineMatrix\",function(){return p}),t.d(n,\"rotate\",function(){return w}),t.d(n,\"rotateDEG\",function(){return P}),t.d(n,\"scale\",function(){return S}),t.d(n,\"shear\",function(){return O}),t.d(n,\"skew\",function(){return F}),t.d(n,\"skewDEG\",function(){return M}),t.d(n,\"toCSS\",function(){return j}),t.d(n,\"toSVG\",function(){return _}),t.d(n,\"toString\",function(){return T}),t.d(n,\"transform\",function(){return v}),t.d(n,\"compose\",function(){return m}),t.d(n,\"translate\",function(){return b})}])});\n//# sourceMappingURL=transformation-matrix.min.js.map","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\n","import {TOOL_NONE, MODE_IDLE} from '../constants';\nimport {\n  identity,\n  fromObject,\n  inverse,\n  applyToPoint,\n  transform,\n  translate,\n  scale\n} from 'transformation-matrix';\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax) {\n  return set({}, {\n    ...identity(),\n    version: 2,\n    mode: MODE_IDLE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGWidth,\n    SVGHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null,\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param change\n * @param action\n * @returns {Object}\n */\nexport function set(value, change, action = null) {\n  value = Object.assign({}, value, change, {lastAction: action});\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version');\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGSize(value, SVGWidth, SVGHeight) {\n  return set(value, {SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {scaleFactorMin, scaleFactorMax});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerMouseEvent extends ViewerEvent{\n\n  get point() {\n    if (!this._cachePoint) {\n      let event = this.originalEvent, value = this.value, SVGViewer = this.SVGViewer;\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = event.clientX - Math.round(rect.left);\n      let y = event.clientY - Math.round(rect.top);\n\n      this._cachePoint = getSVGPoint(value, x, y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function (originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints, inverse} from 'transformation-matrix';\n\n/**\n *\n * @param value\n * @param SVGDeltaX\n * @param SVGDeltaY\n * @param panLimit\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: panLimit, y: panLimit},\n      {x: value.SVGWidth - panLimit, y: value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  }, ACTION_PAN);\n}\n\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  }, ACTION_PAN);\n}\n\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }, ACTION_PAN\n  );\n}\n\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM\n} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nfunction lessThanScaleFactorMin (value, scaleFactor) {\n  return value.scaleFactorMin && (value.d * (scaleFactor)) <= value.scaleFactorMin;\n}\n\nfunction moreThanScaleFactorMax (value, scaleFactor) {\n  return value.scaleFactorMax && (value.d * scaleFactor) >= value.scaleFactorMax;\n}\n\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  return lessThanScaleFactorMin(value, scaleFactor) && scaleFactor < 1 || moreThanScaleFactorMax(value, scaleFactor) && scaleFactor > 1;\n}\n\nexport function limitZoomLevel(value, matrix) {\n  let scaleLevel = matrix.a;\n\n  if(value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n\n  if(value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n      // Do not change translation and scale of value\n      return value;\n  }\n\n  const matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const matrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if(isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitToViewer(value, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  let {viewerWidth, viewerHeight, SVGWidth, SVGHeight} = value;\n\n  let scaleX = viewerWidth / SVGWidth;\n  let scaleY = viewerHeight / SVGHeight;\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const scaleMatrix = scale(scaleLevel, scaleLevel);\n  let translationMatrix = translate(0, 0);\n\n  // after fitting, SVG and the viewer will match in width (1) or in height (2)\n  if (scaleX < scaleY) {\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n\n    if (SVGAlignY === ALIGN_CENTER)\n      translationMatrix = translate(0, Math.round(remainderY / 2));\n    if (SVGAlignY === ALIGN_BOTTOM)\n      translationMatrix = translate(0, remainderY);\n  }\n  else {\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n\n    if (SVGAlignX === ALIGN_CENTER)\n      translationMatrix = translate(Math.round(remainderX / 2), 0);\n    if (SVGAlignX === ALIGN_RIGHT)\n      translationMatrix = translate(remainderX, 0);\n  }\n\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor, props) {\n  let {startX, startY, endX, endY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, endX, endY);\n\n  if (Math.abs(startX - endX) > 7 && Math.abs(startY - endY) > 7) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n}\n","export default function mapRange(value, low1, high1, low2, high2) {\n  return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}\n","import {\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  MODE_IDLE\n} from '../constants';\nimport {setFocus, setViewerCoords, getSVGPoint} from './common';\nimport {startPanning, updatePanning, stopPanning, autoPanIfNeeded} from './pan';\nimport {startZooming, updateZooming, stopZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_AUTO:\n      if (!props.disableDoubleClickZoomWithToolAuto) {\n        let SVGPoint = getSVGPoint(value, x, y);\n        let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n        let modifierKeyActive = props.modifierKeys.reduce(modifierKeysReducer, false);\n        let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n        nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n      }\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (! ([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0) ) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nfunction getNextValue(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return getNextValue(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return getNextValue(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return getNextValue(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","import React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  class RandomUID extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {uid: nextUID()}\n    }\n\n    render() {\n      return <WrappedComponent _uid={this.state.uid} {...this.props}/>\n    }\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number.isRequired,\n  startY: PropTypes.number.isRequired,\n  endX: PropTypes.number.isRequired,\n  endY: PropTypes.number.isRequired\n};\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? '#1CA6FC' : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        role=\"button\"\n        type=\"button\"\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nexport default function Toolbar({tool, value, onChangeValue, onChangeTool, position, SVGAlignX, SVGAlignY}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  tool: PropTypes.string.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n};\n\nToolbar.defaultProps = {\n  SVGAlignX: ALIGN_LEFT,\n  SVGAlignY: ALIGN_TOP\n};\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button role=\"button\" type=\"button\" style={style} onClick={event => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x=\"0\" y=\"0\" width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_RIGHT, POSITION_LEFT,\n} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\nconst {min, max} = Math;\n\nexport default function Miniature(props) {\n\n  let {value, onChangeValue, position, children, background, SVGBackground, width: miniatureWidth, height: miniatureHeight} = props;\n  let {SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 }, 0)`\n    : `translate(0, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 })`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={0}\n              y={0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  background: PropTypes.string.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n\n//events\nimport eventFactory from './events/event-factory';\n\n//features\nimport {pan} from './features/pan';\nimport {\n  getDefaultValue,\n  setViewerSize,\n  setSVGSize,\n  setPointOnViewerCenter,\n  reset,\n  setZoomLevels\n} from './features/common';\nimport {\n  onMouseDown,\n  onMouseMove,\n  onMouseUp,\n  onWheel,\n  onMouseEnterOrLeave,\n  onInterval,\n  onDoubleClick\n} from './features/interactions';\nimport {\n  onTouchStart,\n  onTouchMove,\n  onTouchEnd,\n  onTouchCancel\n} from './features/interactions-touch';\n\nimport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nimport {openMiniature, closeMiniature} from './features/miniature';\n\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING,\n  POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ACTION_PAN, ACTION_ZOOM,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM\n} from './constants';\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    let {tool, value, width: viewerWidth, height: viewerHeight, scaleFactorMin, scaleFactorMax, children} = this.props;\n    let {width: SVGWidth, height: SVGHeight} = children.props;\n\n    this.state = {\n      value: value ? value : getDefaultValue(viewerWidth, viewerHeight, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax),\n      tool: tool ? tool : TOOL_NONE\n    };\n    this.ViewerDOM = null;\n\n    this.autoPanLoop = this.autoPanLoop.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let value = this.getValue();\n    let needUpdate = false;\n    let nextValue = value;\n\n    if (value.viewerWidth !== nextProps.width || value.viewerHeight !== nextProps.height) {\n      nextValue = setViewerSize(nextValue, nextProps.width, nextProps.height);\n      needUpdate = true;\n    }\n\n    let {width: SVGWidth, height: SVGHeight} = nextProps.children.props;\n    if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n      nextValue = setSVGSize(nextValue, SVGWidth, SVGHeight);\n      needUpdate = true;\n    }\n\n    if (value.scaleFactorMin !== nextProps.scaleFactorMin || value.scaleFactorMax !== nextProps.scaleFactorMax) {\n      nextValue = setZoomLevels(nextValue, nextProps.scaleFactorMin, nextProps.scaleFactorMax);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n\n  getValue() {\n    return this.props.value ? this.props.value : this.state.value;\n  }\n\n  getTool() {\n    return this.props.tool ? this.props.tool : this.state.tool;\n  }\n\n  getSvgStyle(cursor) {\n    const style = {display: 'block'};\n\n    if (cursor) {\n      style.cursor = cursor;\n    }\n\n    if (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) {\n      style.touchAction = 'none';\n    }\n\n    return style;\n  }\n\n  setValue(nextValue) {\n    let {onChangeValue, onZoom, onPan} = this.props;\n    this.setState({value: nextValue});\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer(SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n    let nextValue = fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  changeTool(tool) {\n    this.setState({tool});\n    if (this.props.onChangeTool) this.props.onChangeTool(tool);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  handleViewerEvent(event) {\n    let {props, state: {value}, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, value, ViewerDOM));\n  }\n\n  autoPanLoop() {\n    let coords = {x: this.state.viewerX, y: this.state.viewerY};\n    let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n\n    if (this.getValue() !== nextValue) {\n      this.setValue(nextValue);\n    }\n\n    if (this.autoPanIsRunning) {\n      requestAnimationFrame(this.autoPanLoop);\n    }\n  }\n\n  componentDidMount() {\n    let {props, state} = this;\n    if (props.onChangeValue) props.onChangeValue(state.value);\n\n    this.autoPanIsRunning = true;\n    requestAnimationFrame(this.autoPanLoop);\n  }\n\n  componentWillUnmount() {\n    this.autoPanIsRunning = false;\n  }\n\n  render() {\n    let {props, state: {viewerX, viewerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar, customMiniature: CustomMiniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={this.getSvgStyle(cursor)}\n\n          onMouseDown={event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({viewerX: x, viewerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onWheel={event => {\n            let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onMouseEnter={event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          <rect\n            fill={props.background}\n            x={0}\n            y={0}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          />\n\n          <g\n            transform={toSVG(value)}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            <rect\n              fill={this.props.SVGBackground}\n              style={this.props.SVGStyle}\n              x={0}\n              y={0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g>\n                {\n                    props.children.props.children ? <g> props.children.props.children </g> :\n                        <g dangerouslySetInnerHTML={{ __html: props.svgContain }}></g>\n                }\n            </g>\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(viewerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - viewerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerHeight - viewerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.focus && viewerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarPosition === POSITION_NONE ? null :\n          <CustomToolbar\n            position={props.toolbarPosition}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.changeTool(tool)}\n            {...this.props.toolbarProps} />}\n\n        {props.miniaturePosition === POSITION_NONE ? null :\n          <CustomMiniature\n            position={props.miniaturePosition}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n            background={this.props.miniatureBackground}\n            width={this.props.miniatureWidth}\n            height={this.props.miniatureHeight}\n          >\n              {\n                  props.children.props.children ? <g> props.children.props.children </g> :\n                      <g dangerouslySetInnerHTML={{ __html: props.svgContain }}></g>\n              }\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  //width of the viewer displayed on screen\n  width: PropTypes.number.isRequired,\n\n  //height of the viewer displayed on screen\n  height: PropTypes.number.isRequired,\n\n  //background of the viewer\n  background: PropTypes.string,\n\n  //background of the svg\n  SVGBackground: PropTypes.string,\n\n  //style of the svg\n  SVGStyle: PropTypes.object,\n\n  //value of the viewer (current point of view)\n  value: PropTypes.shape({\n    version: PropTypes.oneOf([2]).isRequired,\n    mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n    focus: PropTypes.bool.isRequired,\n    a: PropTypes.number.isRequired,\n    b: PropTypes.number.isRequired,\n    c: PropTypes.number.isRequired,\n    d: PropTypes.number.isRequired,\n    e: PropTypes.number.isRequired,\n    f: PropTypes.number.isRequired,\n    viewerWidth: PropTypes.number.isRequired,\n    viewerHeight: PropTypes.number.isRequired,\n    SVGWidth: PropTypes.number.isRequired,\n    SVGHeight: PropTypes.number.isRequired,\n    startX: PropTypes.number,\n    startY: PropTypes.number,\n    endX: PropTypes.number,\n    endY: PropTypes.number,\n    miniatureOpen: PropTypes.bool.isRequired,\n  }),\n\n  //CSS style of the Viewer\n  style: PropTypes.object,\n\n  //className of the Viewer\n  className: PropTypes.string,\n\n  //perform zoom operation on mouse scroll\n  detectWheel: PropTypes.bool,\n\n  //perform PAN if the mouse is on viewer border\n  detectAutoPan: PropTypes.bool,\n\n  //perform zoom operation on pinch gesture\n  detectPinchGesture: PropTypes.bool,\n\n  //toolbar position\n  toolbarPosition: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n\n  //handler something changed\n  onChangeValue: PropTypes.func,\n\n  //handler tool changed\n  onChangeTool: PropTypes.func,\n\n  //handler zoom level changed\n  onZoom: PropTypes.func,\n\n  //handler pan action performed\n  onPan: PropTypes.func,\n\n  //handler click\n  onClick: PropTypes.func,\n\n  //handler double click\n  onDoubleClick: PropTypes.func,\n\n  //handler mouseup\n  onMouseUp: PropTypes.func,\n\n  //handler mousemove\n  onMouseMove: PropTypes.func,\n\n  //handler mousedown\n  onMouseDown: PropTypes.func,\n\n  //if disabled the user can move the image outside the viewer\n  preventPanOutside: PropTypes.bool,\n\n  //how much scale in or out\n  scaleFactor: PropTypes.number,\n\n  //how much scale in or out on mouse wheel (requires detectWheel enabled)\n  scaleFactorOnWheel: PropTypes.number,\n\n  // maximum amount of scale a user can zoom in to\n  scaleFactorMax: PropTypes.number,\n\n  // minimum amount of a scale a user can zoom out of\n  scaleFactorMin: PropTypes.number,\n\n  //current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]),\n\n  //modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  modifierKeys: PropTypes.array,\n\n  //override toolbar component\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //miniature position\n  miniaturePosition: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n\n  //miniature height\n  miniatureBackground: PropTypes.string,\n\n  //miniature width\n  miniatureWidth: PropTypes.number,\n\n  //miniature height\n  miniatureHeight: PropTypes.number,\n\n  //override miniature component\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //Turn off zoom on double click\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  //toolbar props\n  toolbarProps: PropTypes.shape({\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  }),\n\n  //loading from a string\n  svgContain : PropTypes.string,\n\n  //accept only one node SVG\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) {\n      return new Error('SVG should have props `width` and `height`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  value: null,\n  tool: null,\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  toolbarPosition: POSITION_RIGHT,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  customToolbar: Toolbar,\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  miniaturePosition: POSITION_LEFT,\n  miniatureWidth: 100,\n  miniatureHeight: 80,\n  miniatureBackground: \"#616264\",\n  customMiniature: Miniature,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  toolbarProps: {},\n  svgContain : null\n};\n","export {default as ReactSVGPanZoom} from './viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n\nexport const Viewer = () => {\n  let msg = \"HEY! You are trying to use an older version of ReactSVGPanZoom. \"\n    + \"Read here https://github.com/chrvadala/react-svg-pan-zoom/blob/master/docs/migrate-from-v1-to-v2.md\";\n\n  console.error(msg);\n  return null;\n};\n"],"sourceRoot":""}